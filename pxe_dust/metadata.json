{
  "name": "pxe_dust",
  "description": "Configures installing Ubuntu with preseed files via PXE booting.",
  "long_description": "Description\n===========\n\nInstalls and configures a tftpd server for serving Ubuntu installers over PXE and setting them to run a provided preseed.cfg.\n\nRequirements\n============\n\nWritten and tested with Chef 0.9.14 and Ubuntu 10.10.\n\nAttributes\n==========\n\nAttributes under the `pxe_dust` namespace.\n\n* `[\"pxe_dust\"][\"arch\"]` - Architecture of the netboot.tar.gz to use as the source of pxeboot images.\n* `[\"pxe_dust\"][\"tftpboot\"]` - Path of the tftpboot directory used for sharing images.\n* `[\"pxe_dust\"][\"version\"]` - Ubuntu version of the netboot.tar.gz to use as the source of pxeboot images.\n* `[\"pxe_dust\"][\"user\"][\"fullname\"]` - Full name of the default user, default \"Ubuntu\".\n* `[\"pxe_dust\"][\"user\"][\"username\"]` - Username of the default user, default \"ubuntu\".\n* `[\"pxe_dust\"][\"user\"][\"crypted_password\"]` - SHA512 password for the default user, default nil. This must be generated and added as an attribute or you won't be able to login.\n\nTemplates\n=========\n\nsyslinux.cfg.erb\n----------------\n\nSets the boot prompt to automatically run the installer.\n\ntxt.cfg.erb\n-----------\n\nSets the URL to the preseed file.\n\npreseed.cfg.erb\n---------------\n\nThe preseed file is full of opinions, you will want to update this. If there is a node providing an apt-cacher proxy via the `[apt::cacher]` recipe, it is provided in the preseed.cfg.\n\nRecipes\n=======\n\nDefault\n-------\n\nThe default recipe passes through to `pxe_dust::server`.\n\nServer\n------\n\nThe server includes the `apache2` recipe and installs the `tftpd-hpa` package.\n\nThe recipe does the following:\n\n1. Downloads the proper netboot.tar.gz to boot from.\n2. Untars it to the tftpboot directory.\n3. Instructs the installer prompt to automatically install.\n4. Passes the URL of the preseed.cfg to the installer.\n5. Uses the preseed.cfg template to pass in any `apt-cacher` proxies.\n\nUsage\n=====\n\nCreate a role, `pxe_server`.\n\n    name \"pxe_server\"\n    description \"PXE Dust Boot Server\"\n    run_list(\"recipe[pxe_dust::server]\")\n    default_attributes(\n      \"pxe_dust\" => {\n        \"user\" => {\n          \"username\" => \"ubuntu\",\n          \"fullname\" => \"Ubuntu\",\n          \"crypted_password\" => \"$6$Trby4Y5R$bi90k7uYY5ImXe5MWGFW9kel2BnMCcYO9EnwngTFIXKG2/nWcLKTJZ3verMFnpFbITI9.eHwZ.HR1UPeKbCAV1\"\n    )\n\nOn an Ubuntu system, the password can be generated by installing the `mkpasswd` package and running:\n\n    mkpasswd -m sha-512\n\nThe example above is the hash of the password `ubuntu`, if you'd like to test. This attribute must be set to a valid sha-512 hash of the password or you will not be able to log in.\n\nThis cookbook does not provide DHCP or bootp to listen for PXE boot requests, this URL will have to be provided by another cookbook or manually. The author had to do this manually on a DD-WRT router.\n\nSide note, for DD-WRT bootp support [this forum post was followed](http://www.dd-wrt.com/phpBB2/viewtopic.php?t=4662). The key syntax was\n\n    dhcp-boot=pxelinux.0,,192.168.1.147\n\nin the section `Additional DNSMasq Options` where the IP address is that of the tftpd server we're configuring here and pxelinux.0 is from the netboot tarball.\n\nLicense and Author\n==================\n\nAuthor:: Matt Ray <matt@opscode.com>\nAuthor:: Joshua Timberman <joshua@opscode.com>\n\nCopyright:: 2011 Opscode, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n",
  "maintainer": "Opscode, Inc.",
  "maintainer_email": "cookbooks@opscode.com",
  "license": "Apache 2.0",
  "platforms": {
    "ubuntu": [

    ]
  },
  "dependencies": {
    "apache2": [

    ]
  },
  "recommendations": {
  },
  "suggestions": {
  },
  "conflicting": {
  },
  "providing": {
  },
  "replacing": {
  },
  "attributes": {
  },
  "groupings": {
  },
  "recipes": {
  },
  "version": "1.0.1"
}