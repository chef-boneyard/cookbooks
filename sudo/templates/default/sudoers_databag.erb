#
# /etc/sudoers
#
# Generated by Chef for <%= node[:fqdn] %>
#

Defaults        !lecture,tty_tickets,!fqdn

# User Aliases
<% @user_aliases.keys.each do |k| %>
<% unless @user_aliases[k]["users"].nil? %>
User_Alias	<%= k %> = <%= @user_aliases[k]["users"].join(", ") %>
<% end %>
<% end %>

# Command Aliases
<% @command_aliases.each do |k, v| %>
Cmnd_Alias	<%= k %> = <%= v.join(", ")%>
<% end %>

# Runas Aliases
<% @runas_aliases.each do |k, v| %>
Runas_Alias	<%= k %> = <%= v %>
<% end %>

# User privilege specification
root          ALL=(ALL) ALL
<% @permissions.each do |perm| %>
<%= perm %>
<% end %>

# Members of the admins group (failsafe)
%<%= @adm_group %>       ALL=(ALL) ALL
